import numpy as np
from sklearn.linear_model import LinearRegression
import matplotlib.pyplot as plt
import scipy as sp
from sklearn import svm
from scipy.spatial.distance import pdist

points_svm = [(183, 92), (181, 132), (178, 179), (177, 223), (178, 264)]

def error_by_svm(points_svm):
    X = np.array([
    [ 46.38965402, 83.40863265, 260.3536057, 281.77473272, 49.24428901, 289.88273491, 303.46169445, 280.81488565, 284.68227904, 60.20797289 ], 
    [ 42.95346319, 410.35837996, 409.78164917, 424.00471695, 393.87434545, 390.04102348, 405.55764079, 33.60059523, 24.04163056, 20.22374842 ], 
    [ 59.13543777, 342.21046156, 352.27971841, 357.02240826, 345.37660604, 358.23176855, 357.25900968, 20.1246118 , 21.9317122 , 34.525353   ], 
    [ 31.32091953, 60.74537019, 359.35636908, 357.23661626, 31.89043744, 347.51978361, 348.41498246, 323.00619189, 326.22078413, 36.01388621 ], 
    [ 51.00980298, 95.13148795, 271.04612154, 280.64390248, 44.18144407, 273.89048906, 274.04561664, 280.81310511, 272.80212609, 51.15662225 ], 
    [ 258.49177937, 57.00877125, 263.7347152, 104.2928569, 268.00746258, 31.144823 , 283.09892264, 266.58206991, 47.29693436, 276.5230551  ], 
    [ 85., 147.6482306, 358.69903819, 395.33530073, 64.84597135, 403.00124069, 431.02784133, 426.38597538, 447.13532627, 55.90169944 ], 
    [ 50.03998401, 331.42872537, 357.47587331, 369.62819157, 355.63042614, 376.77712245, 382.7440398 , 45.27692569, 91.92388155, 49.39635614 ], 
    [ 39.56008089, 59.03388857, 317.30899767, 321.16039606, 20., 320.19993754, 320.33888306, 328.80389292, 327.23233337, 30.08321791 ], 
    [ 25.3179778, 388.88173009, 403.19350193, 422.21440051, 376.87663764, 390.29476041, 408.27441752, 21.02379604, 48.0416486 , 27.01851217 ], 
    [ 41.10960958, 353.02266216, 375.61815718, 409.37146945, 319.78899293, 343.5127363, 379.23739267, 28.00, 72.24956747, 44.40720662 ], 
    [ 17.88854382, 322.15834616, 329.68621445, 376.19808612, 312.3491636 , 320.05780728, 367.2669329 ,  8.54400375, 57.97413216, 49.47726751 ], 
    [ 33.37663854, 376.57934091, 68.18357573, 379.32571756, 379.159597 , 35.00, 377.63739222, 379.75913419, 48.37354649, 373.77132046 ], 
    [ 24.33105012, 269.7647123, 319.73270086, 285.41373478, 267.36678926, 316.53909711, 281.22055401, 50.53711507, 25.29822128, 37.01351105 ], 
    [ 12.16552506, 321.51205265, 335.04775779, 335.20143198, 311.04019033, 324.16816623, 324.03086273, 26.2488095 , 43.01162634, 18.68154169 ], 
    [ 13.03840481, 175.37673734, 177.17787672, 178.61690849, 171.23375835, 172.30786401, 172.53985047, 10.44030651, 28.23118843, 17.88854382 ], 
    [ 12.04159458, 284.25340807, 275.68822971, 302.4053571, 282.60396317, 272.83878023, 300.1666204 , 29.73213749, 23.00, 30.87069808 ], 
    [ 20.59126028, 34.53983208, 266.60270066, 272.35638417, 38.01315562, 246.20519897, 252.21022977, 260.11151455, 263.48624253, 19.31320792 ], 
    [ 25.17935662, 53.15072906, 166.62832892, 179.44637082, 28.16025568, 142.66394078, 154.3534904, 115.00434774, 126.30122723, 38.60051813 ], 
    [ 22.8035085, 112.04463396, 108.30050785, 101.43470806, 101.04454463, 93.23625904, 81.32035416, 23.2594067 , 57.97413216, 35.35533906 ], 
    [ 147.2752525 , 68.00735254, 232.45859846, 74.24284477, 212.28518554, 85.70297544, 84.77027781, 296.06080457, 131.74596768, 165.19382555 ], 
    [ 102.70345661, 180.62391868, 77.89736838, 89.49860334, 78.74642849, 164.92422502, 55.80322571, 235.54405108, 110.02272493, 127.09838709 ], 
    [ 71.11258679, 302.05959677, 127.09838709, 200.44949489, 231.00865785, 57.24508713, 130.64838307, 177.81451009, 111.94641575, 73.4982993  ], 
    [ 87.05170877, 169.10647533, 114.35471132, 197.25364382, 82.0548597, 201.0895323, 110.22250224, 283.01590061, 28.28427125, 311.00160771 ], 
    [ 53.23532662, 36.87817783, 161.52399203, 321.69706247, 89.05054744, 108.29589097, 268.46415031, 197.06344156, 356.87672942, 160.25292509 ], 
    [ 22.8035085, 357.11342736, 303.53418259, 145.98630073, 335.01343257, 281.25611104, 123.32072008, 54.74486277, 213.52751579, 159.11316727 ], 
    [ 55.54277631, 164.6572197, 313.69411853, 428.33865107, 117.6137747, 270.98523945, 393.00508903, 154.05193929, 280.93059641, 135.09256086 ], 
    [ 305.00163934, 240.00208332, 153.11760186, 62.64982043, 65.00, 152.08221461, 367.08718311, 87.14355972, 302.10594168, 215.02092921 ], 
    [ 114.75626345, 238.89118862, 348.20970693, 283.69878392, 125.09996003, 235.03404009, 170.1058494, 110.00454536, 45.01110974, 65.03076195 ], 
    [ 283.06359709, 52.95280918, 87.82368701, 257.03112652, 335.02387975, 370.04864545, 31.90611227, 35.05709629, 308.27422857, 343.17633951 ], 
    [ 110.81967334, 195.35864455, 322.08384002, 358.5038354 , 85.0529247, 211.26523614, 247.87900274, 127.61269529, 165.84932921, 40.60788101 ], 
    [ 40.60788101, 66.91038783, 199.64217991, 277.7210831 , 26.30589288, 239.16939604, 317.26644953, 265.04716561, 343.11805549, 78.10249676 ], 
    [ 113.03096921, 46.40043103, 195.97193677, 290.24127894, 147.01360481, 83.38465087, 178.28067758, 230.07824756, 325.09844663, 95.0210503  ], 
    [ 81.90848552, 168.34488409, 276.87181149, 344.1395066 , 86.97700846, 195.2562419, 262.29182221, 113.46365057, 178.00, 68.24954212 ], 
    [ 71.38627319, 118.59595271, 110.13627922, 316.26096819, 184.31766058, 50.53711507, 376.00132978, 207.28000386, 199.32385708, 386.54495211 ], 
    [ 103.12128781, 249.15858404, 309.00647242, 355.25765298, 146.23952954, 206.52602742, 252.68557537, 61.03277808, 106.73331251, 46.27094121 ], 
    [ 42.04759208, 23.40939982, 123.04470732, 281.31299295, 64.28063472, 81.21576202, 239.42639788, 144.22205102, 302.29952034, 158.26875876 ], 
    [ 161.00310556, 251.44780771, 123.00406497, 78.39005039, 94.33981132, 72.13875519, 210.92415699, 139.16896206, 289.88445974, 150.74813432 ], 
    [ 58.03447251, 156.11534198, 76.65507159, 76.02631123, 214.1494805, 134.53624047, 37.36308338, 80.09993758, 225.74321695, 145.98630073 ], 
    [ 153.46986675, 110.88733021, 161.37224049, 90.13878189, 263.00760445, 313.12936624, 68.65857558, 50.48762225, 196.43064934, 246.07315985 ], 
    [ 21.02379604, 47.07440918, 50.56678752, 392.95928542, 33.01514804, 29.54657341, 374.06550229, 31.00, 373.90506817, 348.27862409 ], 
    [ 436.29004114, 458.38193682, 428.16468794, 458.05021559, 26.47640459, 17.72004515, 37.85498646, 43.00, 46.69047012, 33.24154028 ], 
    [ 414.45144468, 439.31879086, 444.77072745, 451.50858242, 33.06055051, 31.38470965, 38.07886553, 15.23154621, 34.0147027 , 18.78829423 ], 
    [ 32.80243893, 30.2654919 , 52.92447449, 459.75863233, 24.16609195, 54.3783045, 427.37571293, 30.61045573, 435.63516846, 440.70965499 ], 
    [ 26.92582404, 17.11724277, 35.34119409, 359.61368161, 26.00, 27.31300057, 352.03550957, 19.84943324, 342.52737117, 327.05504124 ], 
    [ 16.55294536, 328.73697693, 36.87817783, 38.20994635, 335.07312635, 25.8069758 , 23.19482701, 320.30610359, 332.38531857, 12.16552506 ], 
    [ 270.14810753, 289.29051142, 290.02758489, 295.61123118, 30.01666204, 43.9089968 , 30.88689042, 64.38167441, 42.72001873, 23.53720459 ], 
    [ 321.75301086, 327.00152905, 352.31945731, 341.73820389,  5.38516481,  30.59411708, 34.92849839, 25.3179778 , 31.32091953, 30.52867504 ], 
    [ 28.65309756, 40.49691346, 26.68332813, 254.89017243, 59.53990259, 22.47220505, 269.29537686, 40.19950248, 214.3944962, 246.8947144  ], 
    [ 214.97906875, 232.56181974, 228.84929539, 244.96530367, 23.85372088, 18.86796226, 30.46309242, 30.14962686, 17.00, 25.05992817 ], 
    [ 264.34258075, 300.6609386, 305.58795788, 282.71894171, 37.73592453,  42.72001873, 33.83784863,  5.00, 44.64302857, 47.85394446 ], 
    [ 15.00, 29.15475947, 45.54119015, 256.400078  , 14.31782106, 31.57530681, 251.00199202, 18.00, 243.80525015, 229.58440714 ], 
    [ 10.00, 240.00208332, 34.53983208, 43.18564576, 250.00199999,  25.55386468, 37.21558813, 272.2645772, 270.78035379, 19.23538406 ], 
    [ 24.33105012, 37.10795063, 376.35090009, 63.19810124, 13.00, 378.42832875, 39.01281841, 383.04699451, 27.29468813, 379.58134833 ], 
    [ 25.70992026, 20.61552813, 46.66904756, 517.03481508, 11.40175425,  28.16025568, 530.42247313, 26.2488095, 519.08573473, 518.05501638 ], 
    [ 328.20268128, 317.10723738, 336.59025536, 358.66976455, 35.35533906, 31.144823  , 34.0147027 , 20.00, 46.22769733, 27.29468813 ], 
    [ 25.07987241, 33.28663395, 247.34793308, 32.984845  , 28.44292531, 235.25730594, 20.1246118, 263.06843216, 10.77032961, 253.00790501 ], 
    [ 89.88882022, 109.17875251, 112.75194012, 136.97079981, 23.32380758, 33.83784863, 47.67598976, 42.15447782, 37.00, 33.01514804 ], 
    [ 119.50313803, 131.04579352, 130.24976008, 150.65523555, 14.14213562, 17.2626765 , 31.40063694, 22.6715681 , 20.24845673, 28.0713377  ], 
    [ 13.34166406, 32.20248438, 21.09502311, 172.04650534, 19.41648784, 23.43074903, 159.80613255, 31.78049716, 140.41723541, 162.4961538  ], 
    [ 186.00268815, 114.47707194, 327.12382976, 270.05369836, 240.61587645, 225.32864887, 296.06080457, 291.72761268, 173.53962084, 196.4611921  ], 
    [ 120.01666551, 235.53555995, 169.83815826, 308.00649344, 118.34272263, 197.27392124, 244.29490375, 252.57870061, 194.31160542, 197.73972793 ], 
    [ 169.14490829, 130.3840481, 262.48809497, 369.15173032, 299.01504979, 381.95549479, 351.3360215, 205.18284529, 417.48413143, 294.82367612 ], 
    [ 162.07714213, 159.20113065, 261.68110364, 303.75318928, 302.98844862, 340.89881197, 272.00919102, 163.81086655, 312.37317426, 204.41379601 ], 
    [ 240.10206163, 333.12009846, 404.2833165, 366.93868698, 184.35292241, 358.71994648, 464.78489648, 196.41283054, 377.49304629, 242.00206611 ], 
    [ 104.07689465, 97.86214794, 163.89325795, 264.41255643, 200.5617112, 250.68905042, 323.85490578, 91.70605214, 215.95601404, 127.00 ], 
    [ 334.18557719, 202.24737328, 385.86137407, 313.15810703, 346.65256382, 144.03124661, 263.00570336, 315.05713768, 165.71059109, 173.69225659 ], 
    [ 235.68835355, 108.46658472, 173.35801106, 327.92834583, 338.37848631, 355.68806559, 432.80711639, 109.11461864, 286.27609051, 177.36967046 ], 
    [ 217.56838006, 176.81911661, 307.70927838, 295.14911486, 326.07514471, 179.93609977, 298.13587506, 315.90504903, 201.71762442, 177.63445612 ], 
    [ 163.71927193, 155.04837955, 207.69448717, 290.85391522, 234.88720697, 172.73389939, 167.45148551, 136.34148305, 268.15667062, 134.85177047 ], 
    [ 172.83807451, 267.46962444, 266.79017973, 367.01226138, 166.73631878, 395.79034854, 388.66566609, 377.25985739, 267.34621748, 251.19116226 ], 
    [ 380.02105205, 235.05318547, 507.72630422, 337.24916605, 240.63665556, 327.03822407, 483.14076624, 273.12268306, 246.61102976, 356.03511063 ], 
    [ 183.01092864, 183.41210429, 186.93581786, 349.20624278, 355.07886448, 192.42141253, 378.72417404, 258.99227788, 324.22985674, 189.17187952 ], 
    [ 321.12614344, 173.95401691, 357.72754996, 349.08451699, 337.03708995, 166.24379688, 334.09280148, 286.01573383, 195.24343779, 194.6715182  ], 
    [ 287.02090516, 182.83325737, 369.61060591, 270.36271932, 139.61733417, 190.21303846, 359.35636908, 189.52572385, 228.95414388, 283.75341408 ], 
    [ 83.73768566, 119.81652641, 182.25805881, 186.68690366, 46.04345773, 215.24404754, 154.35025105, 209.40391591, 118.82760622, 146.48549416 ], 
    [ 243.19539469, 267.36678926, 406.00492608, 389.00899733, 423.50088548, 276.02898399, 397.92461598, 404.59485909, 242.66231681, 222.80035907 ], 
    [ 139.51702405, 123.84667941, 194.13912537, 201.42740628, 213.69370604, 123.22743201, 225.21989255, 189.40960905, 108.63240769, 139.48835077 ], 
    [ 112.44554237, 33.28663395, 222.74873737, 250.00199999, 131.24023773, 155.36087023, 265.27155897, 217.80036731, 222.64994947, 181.46625031 ], 
    [ 37.10795063, 254.65663156, 430.51596951, 360.84622764, 289.69121492, 449.10689151, 363.9629102, 293.09725348, 353.32704397, 190.91883092 ], 
    [ 57.87054518, 160.01249951, 228.72035327, 315.9129627, 103.31021247, 174.1952927, 260.23066691, 73.40980861, 157.16551785, 88.09086218 ], 
    [ 56.43580424, 181.5957048, 268.79360111, 346.69871647, 125.21980674, 216.66794871, 297.06059988, 111.07204869, 195.11278789, 84.20213774 ], 
    [ 122.93087489, 268.82150212, 344.56929637, 365.47092908, 156.01602482, 228.03508502, 246.58669875, 76.92203845, 101.13357504, 27.65863337 ], 
    [ 128.8099375, 139.2300255, 241.00622399, 346.67708318, 68.00735254, 146.49232062, 248.56588664, 101.9656805, 207.96634343, 106.09901036 ], 
    [ 129.43724348, 228.03508502, 277.06497433, 334.72376671, 105.0809212, 151.19854497, 207.02173799, 50.009999 , 109.1421092 , 59.20304046 ], 
    [ 83.57032966, 130.8166656, 212.39821092, 300.00166666, 50.08991915, 135.07405376, 223.88613177, 85.15867542, 173.95401691, 88.81441324 ], 
    [ 135.62448157, 183.09833424, 267.03183331, 360.62445841, 98.2903861, 146.34206504, 231.04112188, 96.21330469, 195.00, 98.81295462 ], 
    [ 70.76722405, 124.90396311, 193.56910911, 278.65749586, 79.20227269, 138.43771163, 241.61539686, 69.57010852, 162.48384535, 118.1058847  ], 
    [ 88.86506625, 203.03940504, 289.63770473, 360.61197983, 118.11858448, 209.74508338, 307.76614499, 94.36630755, 225.42404486, 160.77624203 ], 
    [ 73.8241153, 169.09760495, 269.13565353, 359.923603  , 96.20810777, 195.34584715, 286.099633 , 102.01960596, 193.16573195, 91.19758769 ], 
    [ 106.00471688, 180.02499826, 243.40295808, 337.19134034, 74.63243263, 141.15239991, 239.03347046, 69.18092223, 169.07099101, 99.98499887 ], 
    [ 105.9481005, 195.31768993, 279.973213 , 353.40911137, 92.02173656, 175.6416807, 252.44603384, 84.72307832, 160.52725625, 82.63776376 ], 
    [ 79.63039621, 177.24841325, 266.05450569, 339.80729833, 97.62171889, 186.42424735, 260.20376631, 88.81441324, 162.60381299, 74.02702209 ], 
    [ 92.00543462, 194.74342094, 276.76163029, 336.50705788, 104.04806582, 185.92471595, 245.28350943, 82.03657721, 141.79562758, 60.03332408 ], 
    [ 82.76472679, 177.138364 , 279.17736298, 340.53046853, 98.95453501, 196.59603251, 261.48996157, 110.46266338, 163.4411209 , 88.41379983 ], 
    [ 101.51354589, 125.01599898, 221.05429197, 307.31417149, 68.60029154, 125.89678312, 215.4553318, 109.34349546, 187.18172988, 90.00555538 ], 
    [ 81.04936767, 141.02836594, 213.41274564, 301.40504309, 60.13318551, 132.37069162, 220.42232192, 72.56721023, 160.38079686, 88.20430828 ], 
    [ 62.39390996, 119.60351165, 155.16765127, 240.16869072, 57.218878 , 95.60334722, 178.71765442, 46.75467891, 122.80879447, 86.57944329 ], 
    [ 54.7813837, 120.26637103, 181.80484042, 270.53465582, 70.03570518, 128.13274367, 219.02054698, 64.84597135, 150.26975744, 94.14881837 ], 
    [ 80.39900497, 167.19150696, 225.97787502, 226.56566377, 87.00, 145.58159224, 147.95945391, 59.43904441, 63.69458376, 37.01351105 ]
    ])

    y = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]

    lin_clf = svm.LinearSVC(max_iter=100000) #model
    lin_clf.fit(X, y) #train

    error_name = 'No Listed Error'
    test_data=pdist(points_svm)

    if (lin_clf.predict([test_data])[0]==4):
        error_name = "Long Vertical Error"
    elif (lin_clf.predict([test_data])[0]==0):
        error_name = "Bi-focal Error"
    elif (lin_clf.predict([test_data])[0]==1):
        error_name = "Long Horizontal Error"
    elif (lin_clf.predict([test_data])[0]==2):
        error_name = "Impatient Shot"
    elif (lin_clf.predict([test_data])[0]==3):
        error_name = "Scattered Group"
    return error_name 